{"ast":null,"code":"import { GET_LOGIN_FAILURE, GET_LOGIN_REQUESTED, GET_LOGIN_SUCCESS, GET_DATA_REQUESTED, GET_DATA_SUCCESS, GET_SHOW_POST_REQUESTED, GET_SHOW_POST_SUCCESS } from \"../constants\";\nimport { call, put, takeEvery } from 'redux-saga/effects';\nimport { Apidata, Api } from './Api';\n\nfunction* fetchUser(action) {\n  try {\n    const response = yield call(Api, action.payload);\n    localStorage.setItem('user-info', JSON.stringify(response.data));\n    localStorage.setItem('token', response.data.token);\n    yield put({\n      type: GET_LOGIN_SUCCESS,\n      user: response.data\n    });\n  } catch (e) {\n    yield put({\n      type: GET_LOGIN_FAILURE,\n      error: e.message\n    });\n  }\n}\n\nfunction* fetchData() {\n  try {\n    let token = localStorage.getItem('token');\n    const responce = yield call(Apidata, token);\n    yield put({\n      type: GET_DATA_SUCCESS,\n      user: responce.data\n    });\n  } catch (e) {}\n}\n\nfunction* fetchPost() {\n  try {\n    let token = localStorage.getItem('token');\n    let responce = yield call(ApiPost, token);\n    yield put({\n      type: GET_SHOW_POST_SUCCESS,\n      user: responce.data\n    });\n  } catch (e) {}\n}\n\nfunction* mySaga() {\n  yield takeEvery(GET_LOGIN_REQUESTED, fetchUser);\n  yield takeEvery(GET_DATA_REQUESTED, fetchData);\n  yield takeEvery(GET_SHOW_POST_REQUESTED, fetchPost);\n}\n\nexport default mySaga;","map":{"version":3,"names":["GET_LOGIN_FAILURE","GET_LOGIN_REQUESTED","GET_LOGIN_SUCCESS","GET_DATA_REQUESTED","GET_DATA_SUCCESS","GET_SHOW_POST_REQUESTED","GET_SHOW_POST_SUCCESS","call","put","takeEvery","Apidata","Api","fetchUser","action","response","payload","localStorage","setItem","JSON","stringify","data","token","type","user","e","error","message","fetchData","getItem","responce","fetchPost","ApiPost","mySaga"],"sources":["/home/pushparajsigh/Desktop/Saga/myapp/src/saga/saga.js"],"sourcesContent":["import {GET_LOGIN_FAILURE,GET_LOGIN_REQUESTED,GET_LOGIN_SUCCESS,GET_DATA_REQUESTED,GET_DATA_SUCCESS, GET_SHOW_POST_REQUESTED,GET_SHOW_POST_SUCCESS} from \"../constants\";\nimport { call, put, takeEvery } from 'redux-saga/effects'\nimport {Apidata,Api} from './Api'\n\nfunction* fetchUser(action)\n{\n  try {\n  const response = yield call(Api,action.payload);\n  localStorage.setItem('user-info',JSON.stringify(response.data));\n  localStorage.setItem('token',(response.data.token));\n\n  yield put({type:GET_LOGIN_SUCCESS, user:response.data }) \n  }\n  \n  catch(e)\n  {\n yield put ({ type:GET_LOGIN_FAILURE,error:e.message});\n  }\n}\n\nfunction* fetchData()\n{\n  try\n  {\n   let token = localStorage.getItem('token');\n    const responce = yield call(Apidata,token);\n    yield put({type:GET_DATA_SUCCESS, user:responce.data }) \n  }\n  catch(e)\n  {\n    \n  }\n}\n\nfunction* fetchPost()\n{\n  try {\n  let token = localStorage.getItem('token');\n  let responce = yield call(ApiPost,token);\n  yield put({type:GET_SHOW_POST_SUCCESS,user:responce.data})\n  }\n  catch(e){\n\n  }\n}\nfunction* mySaga() {\n \n  yield takeEvery(GET_LOGIN_REQUESTED, fetchUser);\n  yield takeEvery(GET_DATA_REQUESTED,fetchData);\n  yield takeEvery(GET_SHOW_POST_REQUESTED,fetchPost)\n}\n\n\nexport default mySaga"],"mappings":"AAAA,SAAQA,iBAAR,EAA0BC,mBAA1B,EAA8CC,iBAA9C,EAAgEC,kBAAhE,EAAmFC,gBAAnF,EAAqGC,uBAArG,EAA6HC,qBAA7H,QAAyJ,cAAzJ;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,SAApB,QAAqC,oBAArC;AACA,SAAQC,OAAR,EAAgBC,GAAhB,QAA0B,OAA1B;;AAEA,UAAUC,SAAV,CAAoBC,MAApB,EACA;EACE,IAAI;IACJ,MAAMC,QAAQ,GAAG,MAAMP,IAAI,CAACI,GAAD,EAAKE,MAAM,CAACE,OAAZ,CAA3B;IACAC,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACM,IAAxB,CAAjC;IACAJ,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,QAAQ,CAACM,IAAT,CAAcC,KAA5C;IAEA,MAAMb,GAAG,CAAC;MAACc,IAAI,EAACpB,iBAAN;MAAyBqB,IAAI,EAACT,QAAQ,CAACM;IAAvC,CAAD,CAAT;EACC,CAND,CAQA,OAAMI,CAAN,EACA;IACD,MAAMhB,GAAG,CAAE;MAAEc,IAAI,EAACtB,iBAAP;MAAyByB,KAAK,EAACD,CAAC,CAACE;IAAjC,CAAF,CAAT;EACE;AACF;;AAED,UAAUC,SAAV,GACA;EACE,IACA;IACC,IAAIN,KAAK,GAAGL,YAAY,CAACY,OAAb,CAAqB,OAArB,CAAZ;IACC,MAAMC,QAAQ,GAAG,MAAMtB,IAAI,CAACG,OAAD,EAASW,KAAT,CAA3B;IACA,MAAMb,GAAG,CAAC;MAACc,IAAI,EAAClB,gBAAN;MAAwBmB,IAAI,EAACM,QAAQ,CAACT;IAAtC,CAAD,CAAT;EACD,CALD,CAMA,OAAMI,CAAN,EACA,CAEC;AACF;;AAED,UAAUM,SAAV,GACA;EACE,IAAI;IACJ,IAAIT,KAAK,GAAGL,YAAY,CAACY,OAAb,CAAqB,OAArB,CAAZ;IACA,IAAIC,QAAQ,GAAG,MAAMtB,IAAI,CAACwB,OAAD,EAASV,KAAT,CAAzB;IACA,MAAMb,GAAG,CAAC;MAACc,IAAI,EAAChB,qBAAN;MAA4BiB,IAAI,EAACM,QAAQ,CAACT;IAA1C,CAAD,CAAT;EACC,CAJD,CAKA,OAAMI,CAAN,EAAQ,CAEP;AACF;;AACD,UAAUQ,MAAV,GAAmB;EAEjB,MAAMvB,SAAS,CAACR,mBAAD,EAAsBW,SAAtB,CAAf;EACA,MAAMH,SAAS,CAACN,kBAAD,EAAoBwB,SAApB,CAAf;EACA,MAAMlB,SAAS,CAACJ,uBAAD,EAAyByB,SAAzB,CAAf;AACD;;AAGD,eAAeE,MAAf"},"metadata":{},"sourceType":"module"}