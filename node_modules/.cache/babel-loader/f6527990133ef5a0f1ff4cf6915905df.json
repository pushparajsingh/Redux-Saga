{"ast":null,"code":"import { GET_LOGIN_FAILURE, GET_LOGIN_REQUESTED, GET_LOGIN_SUCCESS, GET_DATA_REQUESTED, GET_DATA_SUCCESS, GET_SHOW_POST_REQUESTED, GET_SHOW_POST_SUCCESS, GET_DELETE_REQUESTED, GET_DELETE_SUCCESS, GET_UPDATE_REQUESTED, GET_SINGLE_REQUESTED, GET_SINGLE_SUCCESS } from \"../constants\";\nimport { call, put, takeEvery } from 'redux-saga/effects';\nimport { Apidata, Api, ApiPost, ApiDelete, ApiUpdate, ApiSingle } from './Api';\n\nfunction* fetchUser(action) {\n  try {\n    const response = yield call(Api, action.payload);\n    localStorage.setItem('user-info', JSON.stringify(response.data));\n    localStorage.setItem('token', response.data.token);\n    localStorage.setItem('user_id', response.data.user.id);\n    yield put({\n      type: GET_LOGIN_SUCCESS,\n      user: response.data\n    });\n  } catch (e) {\n    yield put({\n      type: GET_LOGIN_FAILURE,\n      error: e.message\n    });\n  }\n}\n\nfunction* fetchData() {\n  try {\n    let token = localStorage.getItem('token');\n    const responce = yield call(Apidata, token);\n    yield put({\n      type: GET_DATA_SUCCESS,\n      user: responce.data\n    });\n  } catch (e) {}\n}\n\nfunction* fetchPost(data) {\n  try {\n    // console.log('saga data invoked',data);\n    let responce = yield call(ApiPost, data.payload);\n    yield put({\n      type: GET_SHOW_POST_SUCCESS,\n      user: responce.data\n    });\n  } catch (e) {}\n}\n\nfunction* fetchDelete(action) {\n  console.log(\"fetch delete run\", action);\n\n  try {\n    const reponce = yield call(ApiDelete, action.payload);\n    yield put({\n      type: GET_DELETE_SUCCESS,\n      user: reponce.data\n    });\n  } catch (e) {\n    console.log(e.message);\n  }\n}\n\nfunction* fetchUpdate(e) {\n  console.log(44, e.payload, e.data);\n\n  try {\n    yield call(ApiUpdate, e.payload, e.data);\n  } catch (e) {\n    console.log(e.message);\n  }\n}\n\nfunction* fetchSingle(id) {\n  console.log('ram', id.payload);\n\n  try {\n    const response = yield call(ApiSingle, id.payload);\n    console.log(response.data.post);\n    yield put({\n      GET_SINGLE_SUCCESS,\n      sin: response.data.post\n    });\n  } catch (e) {\n    console.log(e.message);\n  }\n}\n\nfunction* mySaga() {\n  yield takeEvery(GET_LOGIN_REQUESTED, fetchUser);\n  yield takeEvery(GET_DATA_REQUESTED, fetchData);\n  yield takeEvery(GET_SHOW_POST_REQUESTED, fetchPost);\n  yield takeEvery(GET_DELETE_REQUESTED, fetchDelete);\n  yield takeEvery(GET_UPDATE_REQUESTED, fetchUpdate);\n  yield takeEvery(GET_SINGLE_REQUESTED, fetchSingle);\n}\n\nexport default mySaga;","map":{"version":3,"names":["GET_LOGIN_FAILURE","GET_LOGIN_REQUESTED","GET_LOGIN_SUCCESS","GET_DATA_REQUESTED","GET_DATA_SUCCESS","GET_SHOW_POST_REQUESTED","GET_SHOW_POST_SUCCESS","GET_DELETE_REQUESTED","GET_DELETE_SUCCESS","GET_UPDATE_REQUESTED","GET_SINGLE_REQUESTED","GET_SINGLE_SUCCESS","call","put","takeEvery","Apidata","Api","ApiPost","ApiDelete","ApiUpdate","ApiSingle","fetchUser","action","response","payload","localStorage","setItem","JSON","stringify","data","token","user","id","type","e","error","message","fetchData","getItem","responce","fetchPost","fetchDelete","console","log","reponce","fetchUpdate","fetchSingle","post","sin","mySaga"],"sources":["/home/pushparajsigh/Desktop/Saga/myapp/src/saga/saga.js"],"sourcesContent":["import {GET_LOGIN_FAILURE,GET_LOGIN_REQUESTED,GET_LOGIN_SUCCESS,GET_DATA_REQUESTED,GET_DATA_SUCCESS, GET_SHOW_POST_REQUESTED,GET_SHOW_POST_SUCCESS,GET_DELETE_REQUESTED,GET_DELETE_SUCCESS, GET_UPDATE_REQUESTED,GET_SINGLE_REQUESTED,GET_SINGLE_SUCCESS} from \"../constants\";\nimport { call, put, takeEvery } from 'redux-saga/effects'\nimport {Apidata,Api,ApiPost,ApiDelete,ApiUpdate,ApiSingle} from './Api'\n\nfunction* fetchUser(action)\n{\n  try {\n  const response = yield call(Api,action.payload);\n  localStorage.setItem('user-info',JSON.stringify(response.data));\n  localStorage.setItem('token',(response.data.token));\n  localStorage.setItem('user_id',(response.data.user.id));\n\n  yield put({type:GET_LOGIN_SUCCESS, user:response.data }) \n  }\n  \n  catch(e)\n  {\n yield put ({ type:GET_LOGIN_FAILURE,error:e.message});\n  }\n}\n\nfunction* fetchData()\n{\n  try\n  {\n   let token = localStorage.getItem('token');\n    const responce = yield call(Apidata,token);\n    yield put({type:GET_DATA_SUCCESS, user:responce.data }) \n  }\n  catch(e)\n  {\n    \n  }\n}\n\nfunction* fetchPost(data)\n{\n  try {\n  // console.log('saga data invoked',data);\n  let responce = yield call(ApiPost,data.payload);\n  yield put({type:GET_SHOW_POST_SUCCESS,user:responce.data})\n  }\n\n  catch(e){\n\n  }\n}\n\nfunction* fetchDelete(action)\n{console.log(\"fetch delete run\",action)\n \n  try{\n  const reponce = yield call(ApiDelete,action.payload)\n  yield put({type:GET_DELETE_SUCCESS,user:reponce.data})\n  }\n  catch(e){\n   console.log(e.message);\n  }\n}\nfunction* fetchUpdate(e)\n{\n  console.log(44,e.payload,e.data);\n  try{\n     yield call(ApiUpdate,e.payload,e.data); \n  }\n  catch(e){\n    console.log(e.message);\n  }\n\n}\n\nfunction* fetchSingle(id)\n{\nconsole.log('ram',id.payload);\n  try{\n  const response = yield call(ApiSingle,id.payload);\n  console.log(response.data.post)\n  yield put({GET_SINGLE_SUCCESS,sin:response.data.post})\n  }\n  catch(e){\n   \n    console.log(e.message);\n  }\n}\n\nfunction* mySaga() {\n \n  yield takeEvery(GET_LOGIN_REQUESTED, fetchUser);\n  yield takeEvery(GET_DATA_REQUESTED,fetchData);\n  yield takeEvery(GET_SHOW_POST_REQUESTED,fetchPost)\n  yield takeEvery(GET_DELETE_REQUESTED,fetchDelete)\n  yield takeEvery(GET_UPDATE_REQUESTED,fetchUpdate);\n  yield takeEvery(GET_SINGLE_REQUESTED,fetchSingle);\n}\n\n\nexport default mySaga"],"mappings":"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"},"metadata":{},"sourceType":"module"}